<% content_for(:head) do %>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
<% end %>

<div class="text-center" style="margin-bottom: 10px;">
  <%= link_to "List", action_events_path(request.query_parameters) %>
  <%= link_to "Calendar", calendar_action_events_path(request.query_parameters) %>
</div>

<div class="text-center" style="margin: 20px 0;">
  <%= link_to "< Prev month", request.query_parameters.except(:start_date, :end_date).merge(date: @date - 1.month) %>
  - <%= link_to "Today", request.query_parameters.except(:start_date, :end_date, :date) %> -
  <%= link_to "Next month >", request.query_parameters.except(:start_date, :end_date).merge(date: @date + 1.month) %>
  <br>
  <%= link_to "All Year", request.query_parameters.except(:date).merge(start_date: @date.beginning_of_year, end_date: @date.end_of_year) %>
</div>

<div class="feelings-charts no-markdown" data-feelings-data="<%= @chart_data.to_json %>"></div>
